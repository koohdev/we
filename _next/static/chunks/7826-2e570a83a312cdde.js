"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7826],{64108:function(t,n,e){e.r(n),e.d(n,{ErrorsContext:function(){return o},ErrorsProvider:function(){return i}});var a=e(3827),r=e(64090),u=e(30522);let o=r.createContext({errors:[],addError:u.C3,getError:u.tB,deleteError:u.C3}),i=t=>{let{children:n}=t,[e,u]=(0,r.useState)([]);return(0,a.jsx)(o.Provider,{value:{errors:e,addError:t=>{u([...e,t])},getError:t=>e.find(n=>n.source===t)||null,deleteError:t=>{u(e.filter(n=>n.source!==t))}},children:n})}},37826:function(t,n,e){e.r(n),e.d(n,{UserContextProvider:function(){return w},UserProfileContext:function(){return m},useUserProfileContext:function(){return k}});var a=e(3827),r=e(9923),u=e(14499),o=e(64090),i=t=>{let[n,e]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let n=localStorage.getItem(t);n&&e(n)},[t]),[n,n=>{e(n),localStorage.setItem(t,n),document.cookie="".concat(t,"=").concat(n)}]},c=e(64108),s=e(33383),l=e(50156),f=e(23120),d=e(98055),p=e(30522),h=e(35922),g=e(83932);let m=(0,o.createContext)({userProfile:null,isGasTapAvailable:!0,refreshUserProfile:null,loading:!1,tokentapRoundClaimLimit:0,gastapRoundClaimLimit:0,remainingClaims:null,userProfileLoading:!1,nonEVMWalletAddress:"",userToken:null,onWalletLogin:p.tB,holdUserLogout:!1,setHoldUserLogout:p.tB,setNonEVMWalletAddress:p.tB,updateUsername:p.tB,addNewWallet:p.tB,deleteWallet:async()=>{},logout:p.tB,updateProfile:p.tB}),w=t=>{let{children:n,settings:e,initial:p}=t,[w,k]=(0,o.useState)(p),[v,b]=(0,o.useState)(!1),[y,T]=i("userToken"),[E,z]=(0,o.useState)(!1),{address:C,isConnected:A}=(0,d.Pk)(),{disconnect:x}=(0,g.useDisconnect)(),{addError:R}=(0,o.useContext)(c.ErrorsContext),[S,I]=(0,o.useState)(null),[N,W]=(0,o.useState)(!1),[L,P]=(0,o.useState)(""),[U,B]=(0,o.useState)(e),D=async(t,n)=>{b(!0),(0,u.et)(t,n).then(t=>(k(t),T(t.token),t)).catch(t=>{var n,e;throw((null===(n=t.response)||void 0===n?void 0:n.status)===403||(null===(e=t.response)||void 0===e?void 0:e.status)===409)&&R({source:r.qO.BRIGHTID_CONNECTION_ERROR,message:t.response.data.message,statusCode:t.response.status}),t}).finally(()=>b(!1))};(0,o.useEffect)(()=>{let t=async()=>{W(!0);try{let t=await(0,u.Do)(y);k(t),document.cookie="userToken=".concat(y,";path=/;")}finally{W(!1)}};document.cookie="userToken="+y+";path=/;",y&&!w&&t()},[y,w,k]);let M=async()=>{B(await(0,s.DF)())},J=async()=>{I((await(0,s.a8)(y)).totalRoundClaimsRemaining)},O=async t=>{if(!w||!y)return;let n=w.wallets.findIndex(n=>(0,h.E)(n.address,t)),e=w.wallets[n];e&&(await(0,u.Rj)(y,null==e?void 0:e.pk),w.wallets.splice(n,1),k({...w}))};return(0,l.wy)(M,[M]),(0,l.t2)(()=>{y&&w?J():I(null)},f.gx.MEDIUM,[y&&w]),(0,o.useEffect)(()=>{!E&&y&&w&&(A&&w.wallets.find(t=>(0,h.E)(t.address,C))||(null==x||x(),localStorage.removeItem("userToken"),document.cookie="userToken=;path=/;",k(null),T("")))},[y,T,A,E,w,C,x]),(0,a.jsx)(m.Provider,{value:{userProfile:w,onWalletLogin:(t,n)=>{k(n),T(t)},isGasTapAvailable:U.isGasTapAvailable,refreshUserProfile:D,loading:v,gastapRoundClaimLimit:U.gastapRoundClaimLimit,tokentapRoundClaimLimit:U.tokentapRoundClaimLimit,prizetapRoundClaimLimit:U.prizetapRoundClaimLimit,userToken:y,remainingClaims:S,userProfileLoading:N,nonEVMWalletAddress:L,setNonEVMWalletAddress:P,updateUsername:t=>{k({...w,username:t})},updateProfile:t=>k(t),holdUserLogout:E,setHoldUserLogout:z,deleteWallet:O,addNewWallet:(t,n)=>{w&&(w.wallets.find(n=>(0,h.E)(n.address,t))||(w.wallets.push({walletType:"EVM",pk:n,address:t}),k({...w})))},logout:()=>{null==x||x(),localStorage.clear(),document.cookie="userToken=;path=/;",k(null),T("")}},children:n})},k=()=>(0,o.useContext)(m)},14499:function(t,n,e){e.d(n,{Do:function(){return c},F6:function(){return u},Ju:function(){return p},Rj:function(){return d},Wj:function(){return i},bE:function(){return f},cJ:function(){return s},cy:function(){return o},et:function(){return r},rG:function(){return l}});var a=e(70619);async function r(t,n){return(await a.b.post("/api/auth/user/login/",{username:t,password:n})).data}async function u(t,n){return(await a.b.post("/api/auth/user/check-username/",{username:t},{headers:{Authorization:"token ".concat(n)}})).data}async function o(t){return(await a.b.post("/api/auth/user/check-exists/",{walletAddress:t})).data.exists}async function i(t,n,e){var r,u;let o=await a.b.post("/api/auth/user/wallet-login/",{walletAddress:t,signature:n,message:e});return o.data.username=null!==(u=o.data.username)&&void 0!==u?u:"User".concat(null===(r=o.data)||void 0===r?void 0:r.pk),o.data}async function c(t){var n,e;let r=await a.b.get("/api/auth/user/info/",{headers:{Authorization:"Token ".concat(t)}});return r.data.username=null!==(e=r.data.username)&&void 0!==e?e:"User".concat(null===(n=r.data)||void 0===n?void 0:n.pk),r.data}async function s(t){return(await a.b.post("/api/auth/user/sponsor/",{address:t})).data}async function l(t,n,e,r,u){return(await a.b.post("/api/auth/user/wallets/",{walletType:e,address:n,signature:u,message:r},{headers:{Authorization:"Token ".concat(t)}})).data}let f=async(t,n)=>(await a.b.post("/api/auth/user/set-username/",{username:t},{headers:{Authorization:"Token ".concat(n)}})).data,d=async(t,n)=>(await a.b.delete("/api/auth/user/wallets/"+n,{headers:{Authorization:"token ".concat(t)}})).data,p=async t=>(await a.b.post("api/auth/user/connect/gitcoin-passport/",{userWalletAddress:t})).data},70619:function(t,n,e){e.d(n,{b:function(){return a}});let a=e(7908).default.create({baseURL:"https://api.unitap.app"})},33383:function(t,n,e){e.d(n,{ry:function(){return x},cy:function(){return a.cy},F6:function(){return a.F6},sC:function(){return p},g3:function(){return h},Ju:function(){return a.Ju},xt:function(){return A.xt},B$:function(){return A.B$},od:function(){return d},aO:function(){return l},Cm:function(){return A.Cm},UM:function(){return T},jP:function(){return m},v$:function(){return C},sW:function(){return E},IG:function(){return f},qC:function(){return A.qC},R:function(){return z},j$:function(){return v},a8:function(){return s},g2:function(){return w.g2},hx:function(){return A.hx},n:function(){return A.n},rC:function(){return A.rC},DF:function(){return c},Wj:function(){return a.Wj},bE:function(){return a.bE},rG:function(){return a.rG},cJ:function(){return a.cJ},Rh:function(){return g},eM:function(){return y},fu:function(){return A.fu},io:function(){return b}});var a=e(14499),r=e(70619);let u=t=>({...t.chain,...t,chainPk:t.chain.pk}),o=t=>t.replace(/_([a-z])/g,function(t,n){return n.toUpperCase()}),i=t=>"True"===t||"False"!==t&&(isNaN(t)?t:Number(t));async function c(){return(await r.b.get("/api/gastap/settings/")).data.reduce((t,n)=>(t[o(n.index)]=i(n.value),t),{})}async function s(t){return(await r.b.get("/api/gastap/user/remainig-claims/",{headers:{Authorization:"Token ".concat(t)}})).data}async function l(){return(await r.b.get("/api/gastap/faucet/list/")).data.map(t=>u(t))}async function f(t){return(await r.b.get("/api/gastap/user/one-time-claims/",{headers:{Authorization:"Token ".concat(t)}})).data.map(t=>({...t,chain:u(t.faucet)}))}async function d(t){return(await r.b.get("/api/gastap/user/claims/",{headers:{Authorization:"Token ".concat(t)}})).data.map(t=>({...t,chain:u(t.faucet)}))}async function p(t,n,e){let a=await r.b.post("/api/gastap/faucet/".concat(n,"/claim-max/"),{address:e},{headers:{Authorization:"Token ".concat(t)}});return{...a.data,chain:u(a.data.faucet)}}async function h(t,n,e){return(await r.b.post("/api/gastap/chain/".concat(n,"/claim-max/"),{address:e},{headers:{Authorization:"Token ".concat(t)}})).data}async function g(t,n,e){return(await r.b.post("/api/gastap/user/donation/",{txHash:t,faucetPk:n},{headers:{Authorization:"Token ".concat(e)}})).data}async function m(){return(await r.b.get("/api/gastap/fuel-champion")).data}var w=e(42339),k=e(7908);async function v(t){return t?(await r.b.get("/api/prizetap/raffle-list/",{headers:{Authorization:"Token ".concat(t)}})).data.filter(t=>"PENDING"!==t.status&&"REJECTED"!==t.status):(await r.b.get("/api/prizetap/raffle-list/")).data.filter(t=>"PENDING"!==t.status&&"REJECTED"!==t.status)}async function b(t,n,e){return(await r.b.post("api/prizetap/set-enrollment-tx/".concat(n,"/"),{txHash:e},{headers:{Authorization:"Token ".concat(t)}})).data}async function y(t,n,e){return(await r.b.post("api/prizetap/set-claiming-prize-tx/".concat(n,"/"),{txHash:e},{headers:{Authorization:"Token ".concat(t)}})).data}async function T(t,n,e){return(await r.b.post("/api/prizetap/raffle-enrollment/".concat(n,"/"),{userWalletAddress:e},{headers:{Authorization:"Token ".concat(t)}})).data}async function E(t){let n=Number("0")?"stage_unitap":"unitap";return(await k.default.post("https://shield.unitap.app/v1/?app=".concat(n,"&method=raffle-entry&params[raffleEntryId]=").concat(t),null)).data}async function z(t,n){return(await r.b.get("/api/prizetap/get-raffle-constraints/"+t+"/",{headers:{Authorization:"Token ".concat(n)}})).data}async function C(){return(await r.b.get("/api/prizetap/get-linea-entries/")).data}var A=e(8014);let x=async(t,n,e)=>(await r.b.post("/api/auth/user/connect/brightid/",{address:t,signature:n},{headers:{Authorization:"token ".concat(e)}})).data},8014:function(t,n,e){e.d(n,{B$:function(){return f},Cm:function(){return l},EW:function(){return s},fu:function(){return u},hx:function(){return i},n:function(){return d},qC:function(){return o},rC:function(){return c},xt:function(){return r}});var a=e(70619);async function r(t,n){return(await a.b.post("/api/prizetap/create-raffle/",n,{headers:{Authorization:"Token ".concat(t),"Content-Type":"multipart/form-data"}})).data}async function u(t,n,e){return(await a.b.post("api/prizetap/set-raffle-tx/".concat(n,"/"),{txHash:e},{headers:{Authorization:"Token ".concat(t)}})).data}async function o(){return(await a.b.get("/api/prizetap/get-valid-chains/")).data.data}async function i(){return(await a.b.get("/api/tokentap/get-valid-chains/")).data.data}async function c(t){return(await a.b.get("/api/prizetap/get-user-raffles/",{headers:{Authorization:"Token ".concat(t)}})).data}let s=async t=>(await a.b.get("/api/tokentap/user-token-distributions/",{headers:{Authorization:"Token ".concat(t)}})).data;async function l(){return(await a.b.get("/api/prizetap/get-constraints/")).data}async function f(t,n){return(await a.b.post("/api/tokentap/create-token-distribution/",n,{headers:{Authorization:"Token ".concat(t),"Content-Type":"multipart/form-data"}})).data}let d=async t=>(await a.b.get("/api/gastap/user/donation/?page=1",{headers:{Authorization:"Token ".concat(t)}})).data},42339:function(t,n,e){e.d(n,{HJ:function(){return r},RU:function(){return o},Zr:function(){return c},dU:function(){return i},g2:function(){return s},tO:function(){return u}});var a=e(70619);async function r(){return(await a.b.get("/api/tokentap/token-distribution-list/")).data.filter(t=>"VERIFIED"===t.status)}async function u(t,n,e){return(await a.b.get("https://shield.unitap.app/v1/?app=".concat("unitap","&method=claim-token&params[claimId]=").concat(t,"&distributionId=").concat(n,"&contract=").concat(e))).data}async function o(t){return(await a.b.get("/api/tokentap/claims-list/",{headers:{Authorization:"Token ".concat(t)}})).data}async function i(t,n,e,r){return(await a.b.post("/api/tokentap/token-distribution/".concat(n,"/claim/"),r?{...r,userWalletAddress:e}:{userWalletAddress:e},{headers:{Authorization:"Token ".concat(t)}})).data.signature}async function c(t,n,e){return(await a.b.post("/api/tokentap/claims-list/".concat(n,"/update/"),{txHash:e},{headers:{Authorization:"Token ".concat(t)}})).data}async function s(t,n){return(await a.b.get("/api/tokentap/get-token-constraints/"+t+"/",{headers:{Authorization:"Token ".concat(n)}})).data}},50156:function(t,n,e){e.d(n,{OO:function(){return s},QG:function(){return u},RW:function(){return i},t2:function(){return c},wy:function(){return o}});var a=e(23120),r=e(64090);let u=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.sR,u=(0,r.useRef)();(0,r.useEffect)(()=>{u.current=t},[t]),(0,r.useEffect)(()=>{let t=setInterval(()=>{u.current&&u.current()},e);return()=>clearInterval(t)},[e,...n])},o=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Ps,u=(0,r.useRef)();(0,r.useEffect)(()=>{u.current=t},[t]),(0,r.useEffect)(()=>{let t=setInterval(()=>{u.current&&u.current()},e);return()=>clearInterval(t)},[e,...n])},i=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.KI,u=(0,r.useRef)();(0,r.useEffect)(()=>{u.current=t},[t]),(0,r.useEffect)(()=>{let t=setInterval(()=>{u.current&&u.current()},e);return()=>clearInterval(t)},[e,...n])},c=function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(0,r.useRef)();(0,r.useEffect)(()=>{a.current=t},[t]),(0,r.useEffect)(()=>{if(n&&a.current){let t=setInterval(a.current,n);return a.current(),()=>clearInterval(t)}},[n,...e])},s=(t,n)=>{(0,r.useEffect)(()=>{let e=!1,a=a=>{var r;if((null===(r=a.target)||void 0===r?void 0:r.tagName.toLowerCase())==="a"){if(!t||e||(a.preventDefault(),a.stopPropagation(),!window.confirm(n||"Your changes won't be saved. Are you leaving?")))return;e=!0,a.target.click()}};return window.onbeforeunload=()=>{if(t)return!0},document.addEventListener("click",a,{capture:!0}),()=>{document.removeEventListener("click",a,{capture:!0}),window.onbeforeunload=null}},[t,n])}},30522:function(t,n,e){e.d(n,{C3:function(){return o},tB:function(){return i},t5:function(){return a.t5},JK:function(){return u.JK},Vh:function(){return d},Qd:function(){return f},x6:function(){return s},_8:function(){return r},w6:function(){return l},wT:function(){return p},Xn:function(){return c},r0:function(){return u.r0}});var a=e(5343);let r=t=>"object"==typeof t?Object.values(t)[0]:t.toString();var u=e(25415);let o=()=>{},i=()=>null,c=t=>{if(!t)return"";let n=t.substring(0,6),e=t.substring(t.length-4);return"".concat(n,"...").concat(e)},s=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");function l(t,n){var e=[];for(let a=t;a<n;a++)e.push(a);return e}function f(t,n){let e=t.explorerUrl;return e=e.endsWith("/")?e:"".concat(e,"/"),"".concat(e,"tx/").concat(n)}function d(t,n){let e=t.explorerUrl;return e=e.endsWith("/")?e:"".concat(e,"/"),"".concat(e,"address/").concat(n)}let p=(t,n)=>t.replace(/\${(.*?)}/g,(t,e)=>n[e.trim()]||t)},25415:function(t,n,e){e.d(n,{JK:function(){return f},Lu:function(){return c},N:function(){return l},az:function(){return i},r0:function(){return o},x6:function(){return d}});var a=e(22840);function r(t){return new a.O(t)}let u=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,e=r(t);return e.isZero()?"0":e.dividedBy(r(10).pow(n)).toString()},o=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,e=r(t);return e.isZero()?0:e.multipliedBy(r(10).pow(n)).toNumber()},i=t=>t<1e-6?"< 0.000001":t,c=t=>i(Number(u(t))),s=t=>i(t/1e9),l=t=>1e9*Number(t),f=(t,n)=>"SOL"===n?s(t):c(t),d=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},5343:function(t,n,e){e.d(n,{Wt:function(){return o},t5:function(){return a}});let a=(t,n)=>{let e=t.getTime()-n.getTime();return{days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)}},r=t=>new Date(t.getTime()+6e4*t.getTimezoneOffset()),u=t=>{let n=r(t),e=n.getDay();return new Date(n.getFullYear(),n.getMonth(),n.getDate()+(7-(0===e?7:e)+1))},o=t=>{let n=r(t),e=Math.ceil((u(t).getTime()-n.getTime())/1e3);return{seconds:String(e%60).padStart(2,"0"),minutes:String(Math.floor(e/60)%60).padStart(2,"0"),hours:String(Math.floor(e/3600)%24).padStart(2,"0"),days:String(Math.floor(e/86400)).padStart(2,"0")}}}}]);