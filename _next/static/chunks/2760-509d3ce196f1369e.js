"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2760],{12760:function(e,s,t){t.r(s),t.d(s,{LineaWalletWinner:function(){return u},WalletWinner:function(){return p}});var l=t(3827),a=t(64090),r=t(11146),i=t(67249),n=t(98055),c=t(9151),o=t(85126),d=t(89523),x=t(1811),m=t(30522);let p=e=>{let{claimTx:s,walletAddress:t,isWinner:a,claimingPrizeTx:r,selectedRaffleCh:n}=e,{selectedRaffleForEnroll:c}=(0,i.usePrizeTapContext)();return(0,l.jsxs)("div",{className:"flex px-5 py-2 rounded-xl my-3 bg-gray60 items-center text-gray100",children:[(0,l.jsxs)("a",{className:"flex items-center",target:"_blank",href:"https://blockscan.com/address/".concat(t),children:[(0,m.Xn)(t),(0,l.jsx)(o.Z,{iconSrc:"/assets/images/arrow-icon.svg",className:"ml-3"})]}),r?(0,l.jsxs)("a",{target:"_blank",href:(0,m.Qd)((n||c).chain,r),className:"ml-auto text-xs font-semibold border-mid-dark-space-green border-2 rounded-lg bg-dark-space-green px-2 text-space-green flex items-center gap-1 py-1 underline",children:["Claimed",(0,l.jsx)(o.Z,{iconSrc:"/assets/images/prize-tap/ic_link_green.svg",className:"ml-1"}),(0,l.jsx)(o.Z,{height:"25px",iconSrc:"/assets/images/prize-tap/diamond.svg",className:"ml-2"})]}):(0,l.jsx)("span",{className:"bg-gray50 border-2 border-gray70 rounded-lg px-4 py-2 text-xs ml-auto text-gray80",children:"Not Claimed by the winner yet"})]})},u=e=>{let{claimTx:s,walletAddress:t,isWinner:a,claimingPrizeTx:r}=e,{selectedRaffleForEnroll:n}=(0,i.usePrizeTapContext)();return(0,l.jsxs)("div",{className:"flex px-5 py-2 rounded-xl my-3 bg-gray60 items-center text-gray100",children:[(0,l.jsxs)("a",{className:"flex items-center",target:"_blank",href:"https://blockscan.com/address/".concat(t),children:[(0,m.Xn)(t),(0,l.jsx)(o.Z,{iconSrc:"/assets/images/arrow-icon.svg",className:"ml-3"})]}),a?(0,l.jsxs)("a",{target:"_blank",className:"ml-auto text-xs font-semibold border-mid-dark-space-green border-2 rounded-lg bg-dark-space-green px-2 text-space-green flex items-center gap-1 py-1 underline",children:["Claimed",(0,l.jsx)(o.Z,{iconSrc:"/assets/images/prize-tap/ic_link_green.svg",className:"ml-1"}),(0,l.jsx)(o.Z,{height:"25px",iconSrc:"/assets/images/prize-tap/diamond.svg",className:"ml-2"})]}):(0,l.jsx)("span",{className:"bg-gray50 border-2 border-gray70 rounded-lg px-4 py-2 text-xs ml-auto text-gray80",children:"Not Claimed by the winner yet"})]})};s.default=e=>{var s;let{}=e,{isLineaWinnersOpen:t,setIsLineaWinnersOpen:p,lineaEnrolledUsers:h}=(0,i.usePrizeTapContext)(),[g,f]=(0,a.useState)(""),b=(0,a.useCallback)(()=>{p(!1)},[p]),{isConnected:w,address:j}=(0,n.Pk)(),{setIsWalletPromptOpen:v}=(0,x.useGlobalContext)(),N=(0,a.useMemo)(()=>(0,r.V)(h,j),[h,j]),y=(0,a.useMemo)(()=>(g?h.filter(e=>e.walletAddress.toLocaleLowerCase().includes(g.toLocaleLowerCase())):h).sort((e,s)=>e.isWinner===s.isWinner?0:e.isWinner?-1:1),[g,h]);return t?(0,l.jsx)(c.Z,{title:"LINEA NFT Winners",size:"small",closeModalHandler:b,isOpen:t,children:(0,l.jsxs)("div",{className:"claim-modal-wrapper font-normal text-left flex flex-col items-center justify-center pt-5",children:[(0,l.jsx)("p",{className:"text-xs w-full px-4 text-gray90",children:"Winners"}),(0,l.jsxs)("div",{className:"flex bg-gray50 p-4 py-3.5 border-2 rounded-xl !border-gray30 items-center w-full mt-1",children:[(0,l.jsx)(o.Z,{className:"mr-5",iconSrc:"/assets/images/modal/search-icon.svg",width:"20px",height:"20px"}),(0,l.jsx)("input",{className:"bg-transparent placeholder:text-gray90 text-white w-full z-1",value:g,onChange:e=>f(e.target.value),placeholder:"Search Wallet"})]}),(0,l.jsxs)("div",{className:"mt-4 h-72 text-sm styled-scroll w-full overflow-auto",children:[y.map((e,s)=>(0,l.jsx)(u,{...e},s)),g&&!y.length&&(0,l.jsx)("p",{className:"text-white",children:"No users found"})]}),(0,l.jsx)("div",{className:"w-full",children:w?N&&N.isWinner?(0,l.jsxs)("div",{className:"flex px-5 py-4 rounded-xl mt-5 bg-gray20 items-center text-white",children:[(0,m.Xn)(N.walletAddress),(0,l.jsxs)("button",{className:"ml-auto text-xs border-mid-dark-space-green border-2 rounded-lg bg-dark-space-green px-2 text-space-green flex items-center gap-1 py-1",children:["Winner ",(0,l.jsx)("span",{className:"ml-1",children:"\uD83D\uDE04ï¸"})]})]}):(0,l.jsxs)("div",{className:"flex px-5 py-4 rounded-xl mt-5 bg-gray20 items-center text-white",children:[null!==(s=(0,m.Xn)(j))&&void 0!==s?s:"",(0,l.jsx)("button",{className:"ml-auto text-xs border-[#A13744] border rounded-lg bg-[#2C2228] px-4 text-error flex items-center gap-1 py-1",children:"Not a Winner \uD83D\uDE1F"})]}):(0,l.jsxs)("div",{className:"flex px-5 py-3 border-2 border-gray70 rounded-xl mt-5 bg-gray20 items-center text-white",children:[(0,l.jsx)("p",{className:"text-gray80 text-base",children:"0xYour...Wallet"}),(0,l.jsx)(d.default,{onClick:()=>v(!0),size:"small",className:"gradient-outline-button text-xs ml-auto font-semibold bg-g-primary before:inset-[1px] text-gray100 text-center px-3 py-[6px]",children:(0,l.jsx)("p",{className:"bg-clip-text bg-g-primary text-transparent",children:"Connect Wallet"})})]})})]})}):null}},11146:function(e,s,t){t.d(s,{V:function(){return h},x:function(){return g}});var l=t(3827),a=t(64090),r=t(40739),i=t(33383),n=t(42721),c=t(25415),o=t(67249),d=t(50156),x=t(85126),m=t(26506),p=t(49286),u=t(20703);let h=(e,s)=>!!s&&e.find(e=>e.walletAddress.toLocaleLowerCase()===s.toLocaleLowerCase()),g=e=>{let{raffle:s,isHighlighted:t}=e,{imageUrl:h,tokenUri:g,creatorUrl:f,twitterUrl:b,discordUrl:w,creatorName:j,description:v,startAt:N,deadline:y,name:z,isExpired:_,numberOfOnchainEntries:k,maxNumberOfEntries:C,isPrizeNft:S,userEntry:E,winnerEntry:D,creatorProfile:T,maxMultiplier:W}=s,F=j||(null==T?void 0:T.username),{openEnrollModal:Z,setIsLineaCheckEnrolledModalOpen:M,setIsLineaWinnersOpen:L,lineaEnrolledUsers:P,setLineaEnrolledUsers:I}=(0,o.usePrizeTapContext)(),[R,A]=(0,a.useState)(!0),[B,H]=(0,a.useState)(!1),$=(new Date().getTime()-new Date(y).getTime())/6e4>0,O=(0,a.useMemo)(()=>P.find(e=>e.isWinner),[P]);(0,a.useEffect)(()=>{A(new Date(N)<new Date)},[new Date]),(0,d.RW)(()=>{(0,i.v$)().then(e=>{I(e)})},[i.v$,I]);let U=g?"https://ipfs.io/ipfs/QmYmSSQMHaKBByB3PcZeTWesBbp3QYJswMFZYdXs1H3rgA/".concat(Number(g.split("/")[3])+1,".png"):void 0,V=S?h||U:"https://etherscan.io/address/".concat(s.prizeAsset),X=()=>{V&&window.open(V,"_blank")};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"prize-card-linea ".concat(t?"mb-20":"mb-4"),children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 p-5 lg:p-0 rounded-xl bg-gray30 lg:bg-inherit",children:[(0,l.jsxs)("div",{className:"prize-card__image relative mb-3 lg:mb-0",children:[(0,l.jsx)("div",{className:t?"before:!inset-[2px] p-[2px] gradient-outline-card":"",children:(0,l.jsx)("div",{className:"prize-card__container h-[212px] w-[212px] flex flex-col ".concat(t?"bg-g-primary-low ":"bg-gray30 border-2 border-gray40"," justify-center items-center p-5 rounded-xl"),children:(0,l.jsx)("img",{onClick:X,src:"assets/images/prize-tap/linea-raffle-image.svg",alt:z,width:S?"":"168px",className:"".concat(S?"":"ml-1"," cursor-pointer mb-2")})})}),(0,l.jsxs)("div",{className:"absolute bottom-[-10px] left-[40px] rounded-md flex items-center bg-gray50 border-2 border-gray70 min-w-[130px] justify-center",children:[(0,l.jsx)("p",{className:"text-gray100 text-2xs p-1",children:"on"}),(0,l.jsx)("img",{src:"/assets/images/prize-tap/linea.svg",className:"ml-2",alt:""})]})]}),(0,l.jsxs)("div",{className:t?"before:!inset-[3px] p-[2px] relative gradient-outline-card w-full":"w-full relative",children:[(0,l.jsx)("img",{src:"/assets/images/prize-tap/linia-prize-bg.svg",alt:"prize-tap",className:"top-0 right-0 z-20 absolute"}),(0,l.jsxs)("div",{className:"card prize-card__content relative h-full md:max-h-[225px] md:min-h-[212px] ".concat(t?"bg-g-primary-low":"bg-gray30 border-2 border-gray40"," rounded-xl p-4 pt-3 flex flex-col w-full h-full"),children:[(0,l.jsx)("img",{src:"/assets/images/prize-tap/linea-texture.svg",alt:"prize-tap",className:"top-0 left-0 z-10 absolute"}),(0,l.jsxs)("span",{className:"flex relative z-20 justify-between w-full mb-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,l.jsx)("p",{className:"prize-card__title cursor-pointer text-[#61DFFF] text-sm",onClick:X,children:z}),(0,l.jsxs)("small",{className:"rounded-lg font-bold text-xs p-1 bg-[#0E1217] text-[#1D788F]",children:["x",W," Winners"]})]}),(0,l.jsxs)("div",{className:"prize-card__links text-secondary-text flex gap-4",children:[b&&(0,l.jsx)(x.Z,{iconSrc:"/assets/images/prize-tap/linea-twitter-logo.svg",onClick:()=>window.open(b,"_blank"),width:"20px",height:"16px",hoverable:!0}),w&&(0,l.jsx)(x.Z,{iconSrc:"/assets/images/prize-tap/discord-logo-linea.svg",onClick:()=>window.open(w,"_blank"),width:"20px",height:"16px",hoverable:!0}),(0,l.jsx)(x.Z,{iconSrc:"/assets/images/prize-tap/website.svg",onClick:()=>window.open("https://linea.build","_blank"),width:"20px",height:"16px",hoverable:!0})]})]}),(0,l.jsx)("span",{className:"flex relative z-20 justify-between w-full mb-4",children:(0,l.jsx)("p",{className:"prize-card__source text-xs text-[#61DFFF]",children:(0,l.jsxs)("span",{className:"hover:cursor-pointer",onClick:()=>window.open(f,"_blank"),children:["by ",F]})})}),(0,l.jsx)("p",{className:"prize-card__description text-[#1D677C] text-xs leading-5 mb-2 grow shrink-0 basis-auto text-justify",children:v}),(0,l.jsxs)("p",{className:"text-[#1D677C] flex items-center gap-2 bg-gray30 text-xs leading-5 mb-2 grow shrink-0 basis-auto",children:[(0,c.x6)(C)," Whitelisted Wallets automatically enrolled to this raffle by Linea"," ",(0,l.jsx)(u.default,{alt:"check-circle",src:n.Z})]}),!D&&!(null==E?void 0:E.txHash)&&!s.isExpired&&(0,l.jsx)("span",{className:"text-xs mb-3",children:(0,l.jsxs)("div",{className:"flex items-center flex-wrap text-xs gap-2 text-white",children:[(B?s.constraints:s.constraints.filter(e=>"VER"===e.type).slice(0,6)).map((e,t)=>(0,l.jsx)(m.Z,{onClick:Z.bind(null,s,"Verify"),className:"border-gray70 bg-gray50 hover:bg-gray10 transition-colors border px-3 py-2 rounded-lg ","data-testid":"token-verification-".concat(s.id,"-").concat(e.name),text:e.description,children:(0,l.jsx)("div",{className:"flex items-center gap-3",children:e.title})},t)),s.constraints.length>6&&(0,l.jsxs)("button",{onClick:H.bind(null,!B),className:"border-gray70 flex items-center z-10 bg-gray60 transition-colors border px-3 py-2 rounded-lg",children:[(0,l.jsx)("span",{children:B?"Show less":"Show more"}),(0,l.jsx)("img",{alt:"angle down",src:"/assets/images/token-tap/angle-down.svg",className:"ml-2 ".concat(B?"rotate-180":""," transition-transform")})]})]})}),(0,l.jsx)(r.Action,{className:"w-full sm:w-auto items-center sm:items-end",children:(!_||O)&&(O||C!==k)?$?(0,l.jsxs)("span",{className:"flex flex-col md:flex-row items-center justify-between w-full gap-4 ",children:[(0,l.jsx)("div",{className:"flex gap-4 overflow-hidden px-5 h-[48px] justify-between w-full items-center winner-box-bg  py-1 rounded-xl",children:(0,l.jsxs)("p",{className:"text-2xs text-white",children:["Raffle is done, check the winners:"," "]})}),(0,l.jsx)(p.zx,{disabled:!R,className:"min-w-[552px] px-5 border-2 flex justify-center border-[#61DFFF] rounded-xl text-[#61DFFF] text-center bg-[#191921] py-3 md:!w-[352px] !w-full",onClick:()=>L(!0),children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("p",{children:" Check Winners "})," "]})})]}):(0,l.jsxs)("span",{className:"flex flex-col md:flex-row items-center justify-between w-full gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between w-full md:items-center bg-gray40 px-5 py-1 rounded-xl",children:[(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)("p",{className:"text-2xs text-white",children:R?"Winners in:":"Starts in:"})}),(0,l.jsx)(r.RaffleCardTimer,{startTime:N,FinishTime:y})]}),(0,l.jsx)(p.zx,{onClick:()=>M(!0),className:"min-w-[552px] px-5 border-2 flex justify-center border-[#61DFFF] rounded-xl transition-colors active:bg-[#1C222B] text-[#61DFFF] text-center bg-[#191921] py-3 md:!w-[352px] !w-full",height:"48px",$fontSize:"14px",children:(0,l.jsx)("p",{children:" Check Enrolled Wallets "})})]}):(0,l.jsxs)("span",{className:"flex flex-col md:flex-row items-center justify-between w-full gap-4 ",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between w-full md:items-center bg-gray40 px-5 py-1 rounded-xl",children:[(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsx)("p",{className:"text-2xs text-white",children:R?"Winners in:":"Starts in:"})}),(0,l.jsx)(r.RaffleCardTimer,{startTime:N,FinishTime:y})]}),(0,l.jsxs)(p.NZ,{disabled:!0,className:"min-w-[552px] md:!w-[352px] !w-full",height:"48px",$fontSize:"14px",children:[" ",(0,l.jsxs)("div",{className:"relative w-full",children:[C===k?(0,l.jsx)("p",{children:" Full"}):(0,l.jsx)("p",{children:" Unavailable"}),(0,l.jsx)(x.Z,{className:"absolute right-0 top-[-2px]",iconSrc:"assets/images/prize-tap/header-prize-logo.svg",width:"27px",height:"24px"})]})]})]})})]})]})]})})})}},40739:function(e,s,t){t.r(s),t.d(s,{Action:function(){return j},RaffleCardTimer:function(){return y},RaffleCardTimerLandingPage:function(){return z}});var l=t(3827),a=t(64090),r=t(85126),i=t(49286),n=t(57426),c=t(9137),o=t(26506),d=t(25415),x=t(11146),m=t(67249),p=t(47907),u=t(37826),h=t(20703),g=t(23120),f=t(30522),b=t(8471),w=t(14371);let j=n.ZP.div.withConfig({componentId:"sc-4f0c460c-0"})(["display:flex;@media only screen and (max-width:","){flex-direction:column;}"],c.DV.breakpoints.smallDesktop),v=e=>e.raffle.pk===g.FQ?(0,l.jsx)(x.x,{...e}):(0,l.jsx)(N,{...e}),N=e=>{var s,t;let{raffle:n,isHighlighted:c}=e,{imageUrl:x,tokenUri:p,creatorUrl:g,twitterUrl:v,discordUrl:N,creatorName:z,description:_,startAt:k,deadline:C,name:S,prizeName:E,chain:D,isExpired:T,numberOfOnchainEntries:W,maxNumberOfEntries:F,isPrizeNft:Z,userEntry:M,prizeSymbol:L,decimals:P,prizeAmount:I,creatorProfile:R,winnerEntries:A,winnersCount:B,status:H}=n,$=(0,a.useMemo)(()=>JSON.parse(n.constraintParams||"{}"),[n.constraintParams]),O=z||(null==R?void 0:R.username),{openEnrollModal:U}=(0,m.usePrizeTapContext)(),{userProfile:V}=(0,u.useUserProfileContext)(),X=F-W,q=X<F/100*10,Q=new Date(k)<new Date,[Y,G]=(0,a.useState)(!1),J=(0,a.useMemo)(()=>null==A?void 0:A.find(e=>e.userProfile.pk===(null==V?void 0:V.pk)),[V,A]),K=(0,f.Vh)(D,n.prizeAsset),ee=()=>{n.prizeAsset!=b.D&&K&&window.open(K,"_blank")};return(0,l.jsx)("div",{className:"".concat(Z?"prize-card-bg-1":"prize-card-bg-2"," ").concat(c?"mb-20":"mb-4"),children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 rounded-xl bg-gray30 p-5 lg:flex-row lg:bg-inherit lg:p-0",children:[(0,l.jsxs)("div",{className:"prize-card__image relative mb-3 lg:mb-0",children:[(0,l.jsx)("div",{className:c?"gradient-outline-card p-[2px] before:!inset-[2px]":"",children:(0,l.jsx)("div",{className:"prize-card__container flex h-[212px] w-[212px] flex-col ".concat(c?"bg-g-primary-low ":"border-2 border-gray40 bg-gray30"," items-center justify-center rounded-xl p-5"),children:x&&(0,l.jsx)("img",{onClick:ee,src:x,alt:S,width:Z?"":"168px",className:"".concat(Z?"":"ml-1"," mb-2 cursor-pointer")})})}),(0,l.jsxs)("div",{className:"absolute bottom-[-10px] left-[40px] z-10 flex min-w-[130px] items-center justify-center rounded-md border-2 border-gray70 bg-gray50",children:[(0,l.jsxs)("p",{className:"p-1 text-2xs text-gray100",children:[" on ",D.chainName," "]}),(0,l.jsx)(r.Z,{iconSrc:D.logoUrl,width:"20px",height:"16px"})]})]}),(0,l.jsx)("div",{className:c?"gradient-outline-card w-full p-[2px] before:!inset-[3px]":"w-full",children:(0,l.jsxs)("div",{className:"card prize-card__content relative z-10 h-full md:max-h-[225px] md:min-h-[212px] ".concat(c?"bg-g-primary-low":"border-2 border-gray40 bg-gray30"," flex h-full w-full flex-col rounded-xl p-4 pt-3"),children:[(0,l.jsxs)("span",{className:"mb-1 flex w-full items-center",children:[(0,l.jsx)("p",{className:"cursor-pointer text-sm text-white",onClick:ee,children:E}),B>1&&(0,l.jsxs)("small",{className:"ml-5 rounded-xl bg-gray10 p-1 px-2 text-xs font-semibold text-gray100",children:[B,"x Winners"]}),(0,l.jsxs)("div",{className:"ml-auto flex gap-4",children:[v&&(0,l.jsx)(r.Z,{iconSrc:"assets/images/prize-tap/twitter-logo.svg",onClick:()=>window.open(v,"_blank"),width:"20px",height:"16px",hoverable:!0}),N&&(0,l.jsx)(r.Z,{iconSrc:"assets/images/prize-tap/discord-logo.svg",onClick:()=>window.open(N,"_blank"),width:"20px",height:"16px",hoverable:!0})]})]}),(0,l.jsx)("span",{className:"mb-4 flex w-full justify-between",children:(0,l.jsx)("p",{className:"prize-card__source text-xs text-gray90",children:(0,l.jsxs)("span",{className:"hover:cursor-pointer",onClick:()=>window.open(g,"_blank"),children:["by ",O]})})}),(0,l.jsx)(w.U,{className:"prize-card__description text-gray100bg-transparent mb-2 shrink-0 grow basis-auto text-justify text-xs leading-5",children:_}),!A.length&&!(null==M?void 0:M.txHash)&&!n.isExpired&&(0,l.jsx)("span",{className:"mb-3 text-xs",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white",children:[(Y?n.constraints:n.constraints.filter(e=>"VER"===e.type).slice(0,6)).map((e,s)=>(0,l.jsx)(o.Z,{onClick:U.bind(null,n,"Verify"),className:"rounded-lg border border-gray70 bg-gray50 px-3 py-2 transition-colors hover:bg-gray10 ","data-testid":"token-verification-".concat(n.id,"-").concat(e.name),text:(0,f.wT)(e.isReversed?e.negativeDescription:e.description,$[e.name]),children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[e.isReversed&&"Not ",e.title]})},s)),n.constraints.length>6&&(0,l.jsxs)("button",{onClick:G.bind(null,!Y),className:"z-10 flex items-center rounded-lg border border-gray70 bg-gray60 px-3 py-2 transition-colors",children:[(0,l.jsx)("span",{children:Y?"Show less":"Show more"}),(0,l.jsx)(h.default,{width:12,height:7,alt:"angle down",src:"/assets/images/token-tap/angle-down.svg",className:"ml-2 ".concat(Y?"rotate-180":""," transition-transform")})]})]})}),(0,l.jsx)(j,{className:"w-full items-center sm:w-auto sm:items-end ",children:(!T||A.length||(null==M?void 0:M.txHash))&&(A.length||(null==M?void 0:M.txHash)||F!==W)?A.length||(null==M?void 0:M.txHash)?!A.length&&(null==M?void 0:M.txHash)?(0,l.jsxs)("span",{className:"flex w-full flex-col items-center justify-between gap-4 md:flex-row ",children:[(0,l.jsxs)("div",{className:"flex w-full flex-col justify-between gap-4 rounded-xl bg-gray40 px-5 py-1 sm:flex-row md:items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("p",{className:"text-2xs text-white",children:Q?"Winners Announced in:":"Starts in:"}),(0,l.jsx)("p",{className:"text-2xs text-gray100",children:F>=1e9?"".concat((0,d.x6)(W)," people enrolled"):q?X>0?"".concat(X," people remains"):"".concat((0,d.x6)(F)," people enrolled"):"\n													".concat(W," / ").concat((0,d.x6)(F)," people enrolled")})]}),(0,l.jsx)(y,{startTime:k,FinishTime:C})]}),(0,l.jsx)(i.hd,{onClick:()=>U(n,"Enroll"),className:"!w-full  min-w-[552px] md:!w-[352px]",height:"48px",$fontSize:"14px",children:(0,l.jsxs)("div",{className:"relative flex w-full",children:[(0,l.jsx)("span",{className:"".concat(!A.length&&new Date(C)<new Date?"text-sm":""," mr-[2em] bg-g-primary bg-clip-text text-sm text-transparent"),children:!A.length&&new Date(C)<new Date?"Raffle is being processed":"Enrolled"}),(0,l.jsx)(r.Z,{className:"absolute right-0 top-[-2px]",iconSrc:"/assets/images/prize-tap/enrolled-ticket.svg",width:"27px",height:"24px"})]})})]}):A&&!J?(0,l.jsxs)("div",{className:"flex w-full flex-1 items-center gap-4",children:[(0,l.jsxs)("span",{className:"align-center flex h-[70px] w-full items-center justify-between overflow-hidden rounded-xl bg-gray10 py-1 font-medium leading-[15px] md:h-[48px] md:leading-[normal]",children:[(0,l.jsx)("p",{className:"ml-4 text-2xs text-gray100",children:F>=1e9?"".concat((0,d.x6)(W)," people enrolled"):q?"".concat((0,d.x6)(F)," people enrolled"):"\n													".concat(W," / ").concat((0,d.x6)(F)," people enrolled")}),(0,l.jsx)(r.Z,{className:"mt-[-25px] opacity-[.3]  md:mt-[-10px] ",iconSrc:"assets/images/prize-tap/winner_bg_diamond.svg",width:"215px",height:"215px"})]}),(0,l.jsx)(i.NZ,{height:"48px",$fontSize:"14px",className:"!w-full  min-w-[552px] md:!w-[352px]",onClick:()=>U(n,"Winners"),children:(0,l.jsx)("div",{className:"relative w-full",children:(0,l.jsx)("span",{className:"bg-g-primary bg-clip-text text-transparent",children:"Check Winners"})})})]}):A.length&&J&&!J.claimingPrizeTx?(0,l.jsxs)("span",{className:"flex w-full flex-col items-center justify-between gap-4 md:flex-row ",children:[(0,l.jsxs)("div",{className:"winner-box-bg flex h-[48px] w-full items-center justify-between gap-4 overflow-hidden rounded-xl  px-5 py-1",children:[(0,l.jsxs)("p",{className:"text-2xs text-white",children:["Congratulations @",(null==V?void 0:V.username)||(0,f.Xn)(null==V?void 0:null===(s=V.wallets)||void 0===s?void 0:s[0].address)," ","! claim your prize now."]}),(0,l.jsx)(r.Z,{className:"mr-[-20px] mt-[-10px] opacity-[.3]",iconSrc:"assets/images/prize-tap/winner_bg_diamond.svg",width:"215px",height:"215px"})]}),(0,l.jsxs)(i.F0,{height:"48px",$fontSize:"14px",className:"!w-full min-w-[552px] md:!w-[352px]",onClick:()=>U(n,"Claim"),children:[" ",(0,l.jsxs)("div",{className:"relative w-full text-gray10",children:[(0,l.jsx)("p",{children:" Claim Prize"})," "]})]})]}):(0,l.jsxs)("span",{className:"flex w-full flex-col items-center justify-between gap-4 md:flex-row ",children:[(0,l.jsxs)("div",{className:"winner-box-bg flex h-[48px] w-full items-center justify-between gap-4 overflow-hidden rounded-xl  py-1 pl-5",children:[(0,l.jsxs)("p",{className:"text-2xs text-white",children:["Congratulations @",(null==V?void 0:V.username)||(0,f.Xn)(null==V?void 0:null===(t=V.wallets)||void 0===t?void 0:t[0].address),"!"]}),(0,l.jsx)(r.Z,{className:"mt-[-10px] opacity-[.3]",iconSrc:"assets/images/prize-tap/winner_bg_diamond.svg",width:"215px",height:"215px"})]}),(0,l.jsx)("div",{className:"claimed-prize !w-full md:!w-[352px]",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("p",{className:"!font-semibold",children:"Claimed"}),(0,l.jsx)(r.Z,{className:"absolute right-0 top-1/2 -translate-y-1/2",iconSrc:"assets/images/prize-tap/header-prize-logo.svg",width:"27px",height:"24px"})]})})]}):(0,l.jsxs)("span",{className:"flex w-full flex-col items-center justify-between gap-4 md:flex-row ",children:[(0,l.jsxs)("div",{className:"flex w-full flex-col justify-between gap-4 rounded-xl bg-gray40 px-5 py-1 sm:flex-row md:items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("p",{className:"text-2xs text-white",children:Q?"Winners Announced in:":"Starts in:"}),(0,l.jsx)("p",{className:"text-2xs text-gray100",children:F>=1e9?"".concat((0,d.x6)(W)," people enrolled"):q?X>0?"".concat(X," people remains"):"".concat((0,d.x6)(F)," people enrolled"):"\n													".concat(W," / ").concat((0,d.x6)(F)," people enrolled")})]}),(0,l.jsx)(y,{startTime:k,FinishTime:C})]}),(0,l.jsxs)(i.NZ,{height:"48px",$fontSize:"14px",disabled:!Q,className:"!w-full min-w-[552px] md:!w-[352px]",onClick:()=>U(n,"Verify"),children:[" ",(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("p",{className:"bg-g-primary bg-clip-text text-transparent",children:"Enroll"})," ",(0,l.jsx)(r.Z,{className:"absolute right-0 top-[-2px]",iconSrc:"assets/images/prize-tap/header-prize-logo.svg",width:"27px",height:"24px"})]})]})]}):(0,l.jsxs)("span",{className:"flex w-full flex-col items-center justify-between gap-4 md:flex-row ",children:[(0,l.jsxs)("div",{className:"flex w-full flex-col justify-between gap-4 rounded-xl bg-gray40 px-5 py-1 sm:flex-row md:items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("p",{className:"text-2xs text-white",children:Q?"Winners Announced in:":"Starts in:"}),(0,l.jsx)("p",{className:"text-2xs text-gray100",children:F>=1e9?"".concat((0,d.x6)(W)," people enrolled"):q?X>0?"".concat(X," people remains"):"".concat((0,d.x6)(F)," people enrolled"):"\n											".concat(W," / ").concat((0,d.x6)(F)," people enrolled")})]}),(0,l.jsx)(y,{startTime:k,FinishTime:C})]}),(0,l.jsxs)(i.NZ,{disabled:!0,className:"!w-full min-w-[552px] md:!w-[352px]",height:"48px",$fontSize:"14px",children:[" ",(0,l.jsxs)("div",{className:"relative w-full",children:[F===W?(0,l.jsx)("p",{children:" Full"}):0==W?(0,l.jsx)("p",{children:" Unavailable"}):new Date(C)<new Date?(0,l.jsx)("p",{className:"mr-[2em] bg-g-primary bg-clip-text text-sm text-transparent",children:"Raffle is being processed"}):"",(0,l.jsx)(r.Z,{className:"absolute right-0 top-[-2px]",iconSrc:"assets/images/prize-tap/header-prize-logo.svg",width:"27px",height:"24px"})]})]})]})})]})})]})})},y=e=>{let{startTime:s,FinishTime:t}=e,[r,i]=(0,a.useState)(new Date),[n,c]=(0,a.useState)("00"),[o,d]=(0,a.useState)("00"),[x,m]=(0,a.useState)("00"),[p,u]=(0,a.useState)("00"),[h,g]=(0,a.useState)(!0),f=(0,a.useMemo)(()=>new Date(s),[s]),b=(0,a.useMemo)(()=>new Date(h?t:new Date),[t,h]),w=(0,a.useMemo)(()=>f.getTime()>r.getTime()?f:b,[f,b,r]);return(0,a.useEffect)(()=>{let e=w.getTime()-r.getTime();if(e<=0){c("00"),d("00"),m("00"),u("00");return}let s=Math.floor(e/864e5),t=Math.floor(e%864e5/36e5),l=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);u(a<10?"0".concat(a):a.toString()),m(l<10?"0".concat(l):l.toString()),d(t<10?"0".concat(t):t.toString()),c(s<10?"0".concat(s):s.toString())},[r,w]),(0,a.useEffect)(()=>{let e=setInterval(()=>{g(new Date(s)<new Date),i(new Date)},1e3);return()=>{clearInterval(e)}},[s]),(0,l.jsxs)("div",{className:"prize-card__timer flex items-center justify-between gap-4 rounded-xl py-2 md:px-3",children:[(0,l.jsxs)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:[(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold text-white",children:n}),(0,l.jsx)("p",{className:"prize-card__timer-item-label text-gray90",children:"d"})]}),(0,l.jsx)("p",{className:"text-sm text-white",children:":"}),(0,l.jsxs)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:[(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold text-white",children:o}),(0,l.jsx)("p",{className:"prize-card__timer-item-label text-gray90",children:"h"})]}),(0,l.jsx)("p",{className:"text-sm text-white",children:":"}),(0,l.jsxs)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:[(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold text-white",children:x}),(0,l.jsx)("p",{className:"prize-card__timer-item-label text-gray90",children:"m"})]}),(0,l.jsx)("p",{className:"text-sm text-white",children:":"}),(0,l.jsxs)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:[(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold text-white",children:p}),(0,l.jsx)("p",{className:"prize-card__timer-item-label text-gray90",children:"s"})]})]})},z=e=>{let{startTime:s,FinishTime:t}=e,[r,i]=(0,a.useState)(new Date),[n,c]=(0,a.useState)("00"),[o,d]=(0,a.useState)("00"),[x,m]=(0,a.useState)("00"),[p,u]=(0,a.useState)("00"),h=(0,a.useMemo)(()=>new Date(s),[s]),g=(0,a.useMemo)(()=>new Date(t),[t]),f=(0,a.useMemo)(()=>h.getTime()>r.getTime()?h:g,[h,g,r]);return(0,a.useEffect)(()=>{let e=f.getTime()-r.getTime();if(e<=0)return;let s=Math.floor(e/864e5),t=Math.floor(e%864e5/36e5),l=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);u(a<10?"0".concat(a):a.toString()),m(l<10?"0".concat(l):l.toString()),d(t<10?"0".concat(t):t.toString()),c(s<10?"0".concat(s):s.toString())},[r,f]),(0,a.useEffect)(()=>{let e=setInterval(()=>i(new Date),1e3);return()=>{clearInterval(e)}},[]),(0,l.jsxs)("div",{className:"prize-card__timer mt-[-2px] flex items-center gap-1 text-gray100 md:px-1",children:[(0,l.jsx)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold",children:n})}),(0,l.jsx)("p",{className:"text-sm",children:":"}),(0,l.jsx)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold",children:o})}),(0,l.jsx)("p",{className:"text-sm",children:":"}),(0,l.jsx)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold",children:x})}),(0,l.jsx)("p",{className:"text-sm",children:":"}),(0,l.jsx)("div",{className:"prize-card__timer-item flex flex-col items-center justify-between text-2xs",children:(0,l.jsx)("p",{className:"prize-card__timer-item-value font-semibold",children:p})})]})};s.default=()=>{let e=(0,p.useSearchParams)(),{rafflesList:s}=(0,m.usePrizeTapContext)(),[t,r]=(0,a.useState)(""),i=(0,a.useMemo)(()=>s.sort((e,s)=>{let l=t.toLowerCase();return e.name.toLowerCase()===l?-1:s.name.toLowerCase()===l?1:0}),[s,t]);return(0,a.useEffect)(()=>{r(e.get("icebox")||"")},[e,r]),(0,l.jsxs)("div",{className:"wrap mb-4 grid w-full gap-4 md:flex-row",children:[!!i.length&&(0,l.jsx)("div",{children:(0,l.jsx)(v,{raffle:i[0],isHighlighted:t.toLocaleLowerCase()===s[0].name.toLocaleLowerCase()})}),i.slice(1).map((e,s)=>(0,l.jsx)("div",{children:(0,l.jsx)(v,{raffle:e},e.pk)},s))]})}},89523:function(e,s,t){t.r(s);var l=t(3827);t(64090),s.default=e=>{let{className:s,buttonClassName:t,children:a,size:r,onClick:i,icon:n,unClickable:c,disabled:o}=e;return(0,l.jsxs)("div",{onClick:o?void 0:i,className:"before:rounded-lg rounded-lg ".concat(r||"btn-default"," ").concat(s||"text-sm"," ").concat(o?"opacity-60":""," ").concat(c||o?"cursor-default":"cursor-pointer before:cursor-pointer"," flex justify-center items-center ").concat(n?"gap-2":"gap-0"),children:[(0,l.jsx)("button",{className:"".concat(t||""," ").concat(c||o?"cursor-default":"cursor-pointer before:cursor-pointer"),disabled:o,children:a}),(0,l.jsx)("img",{src:n})]})}},26506:function(e,s,t){var l=t(3827),a=t(64090),r=t(20703);s.Z=e=>{let{text:s,children:t,className:i="",toolTipClassName:n="",withoutImage:c,imageUrl:o,...d}=e,[x,m]=(0,a.useState)(!1);return(0,l.jsxs)("div",{onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},className:"relative inline-block "+i,...d,children:[(0,l.jsx)("span",{children:t}),(0,l.jsxs)("div",{className:"absolute bottom-full left-1/2 z-20 mb-3 w-full -translate-x-1/2 rounded-md border border-gray70 bg-gray10 p-2 text-center text-xs text-gray100 opacity-0 transition-opacity ".concat(n," ").concat(x?"pointer-events-auto opacity-100":"pointer-events-none"),children:[(0,l.jsx)("div",{className:"absolute left-1/2 top-full -mt-[0.3rem] h-3 w-3 -translate-x-1/2 -rotate-45 transform rounded-bl border-b border-l border-gray70 bg-gray10"}),(0,l.jsxs)("div",{children:[c||(0,l.jsx)(r.default,{alt:"tooltip",width:12,height:12,className:"inline-block h-3 w-3",src:null!=o?o:"/assets/images/tooltip.svg"}),(0,l.jsx)("span",{className:"ml-1",children:s})]})]})]})}},67249:function(e,s,t){t.r(s),t.d(s,{PrizeTapContext:function(){return u},usePrizeTapContext:function(){return h}});var l=t(3827),a=t(30522),r=t(33383),i=t(64090),n=t(37826),c=t(50156),o=t(23120),d=t(72450),x=t(1202),m=t(98055),p=t(1811);let u=(0,i.createContext)({claimError:null,rafflesList:[],claimOrEnrollSignatureLoading:!1,handleClaimPrize:a.tB,handleEnroll:a.tB,selectedRaffleForEnroll:null,setSelectedRaffleForEnroll:a.tB,claimOrEnrollLoading:!1,openEnrollModal:a.tB,closeEnrollModal:a.tB,claimOrEnrollWalletResponse:null,method:null,setMethod:a.tB,setIsLineaWinnersOpen:a.tB,isLineaWinnersOpen:!1,lineaEnrolledUsers:[],setLineaEnrolledUsers:a.tB,isLineaCheckEnrolledModalOpen:!1,setIsLineaCheckEnrolledModalOpen:a.tB}),h=()=>(0,i.useContext)(u);s.default=e=>{let{children:s,raffles:t}=e,[a,h]=(0,i.useState)(t),[g,f]=(0,i.useState)(null),[b,w]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[N,y]=(0,i.useState)([]),[z,_]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[S,E]=(0,i.useState)(null),[D,T]=(0,i.useState)(null),[W,F]=(0,i.useState)(null),[Z,M]=(0,i.useState)(-1),{userToken:L}=(0,n.useUserProfileContext)(),{setIsWalletPromptOpen:P}=(0,p.useGlobalContext)(),{isConnected:I,address:R,chainId:A}=(0,m.Pk)(),{writeContractAsync:B}=(0,d.useWriteContract)({}),H=(0,m.YC)(),$=(0,i.useCallback)(async()=>{try{let e=await (0,r.j$)(null!=L?L:void 0);h(e)}catch(s){var e;f(null===(e=s.response)||void 0===e?void 0:e.data.message),console.log(s)}},[L]),O=(0,i.useCallback)(async()=>{let e,s,t;if(S&&(!S.isExpired||"Claim"===W)&&L&&R){if("Claim"===W)return{result:{data:{init:{nonceAddress:"1"}},reqId:"1",signatures:[{owner:"1",signature:"1"}],shieldSignature:"1"},multiplier:void 0,userEntry:{pk:S.pk}};if(C(!0),null==S?void 0:S.userEntry)e=null==S?void 0:S.userEntry.pk,s=S.userEntry;else{let t=await (0,r.UM)(L,S.pk,R);E({...S,userEntry:t.signature}),s=t.signature,e=t.signature.pk}try{t=await (0,r.sW)(e)}catch(e){var l;f(null===(l=e.response)||void 0===l?void 0:l.data.message)}finally{C(!1)}return{result:null==t?void 0:t.result,multiplier:null==s?void 0:s.multiplier,userEntry:s}}},[W,S,L]),U=(0,i.useCallback)(async()=>{if(!L||!S)return;let e=[BigInt(S.raffleId)];null==S||S.chain.chainId,M(null==S?void 0:S.pk);let s=await O(),t=null==s?void 0:s.userEntry.pk;if(w(!0),"Claim"!==W){var l,a,i,n,c;e.push(null==s?void 0:s.multiplier,null==s?void 0:null===(l=s.result)||void 0===l?void 0:l.reqId,{signature:null==s?void 0:null===(a=s.result)||void 0===a?void 0:a.signatures[0].signature,owner:null==s?void 0:null===(i=s.result)||void 0===i?void 0:i.signatures[0].owner,nonce:null==s?void 0:null===(n=s.result)||void 0===n?void 0:n.data.init.nonceAddress},null==s?void 0:null===(c=s.result)||void 0===c?void 0:c.shieldSignature)}let d=(null==S?void 0:S.isPrizeNft)?o.q7.prizeTap[S.chain.chainId].erc721:o.q7.prizeTap[S.chain.chainId].erc20;if(!d)throw Error("Address is not supported");try{let s=await B({args:e,account:R,functionName:"Claim"==W?"claimPrize":"participateInRaffle",chainId:Number(null==S?void 0:S.chain.chainId),abi:x.Eqw,address:d});if(s){let e=await (null==H?void 0:H.waitForTransactionReceipt({hash:s,confirmations:1}));if(!e||(T({success:!0,state:"Done",txHash:e.transactionHash,message:"Claim"===W?"Claimed successfully.":"Enrolled successfully"}),!L))return;await ("Enroll"===W?(0,r.io)(L,t,e.transactionHash):(0,r.eM)(L,t,e.transactionHash))}}finally{w(!1),console.log("-")}},[R,H,O,W,S,L,B]),V=(0,i.useCallback)((e,s)=>{if(!I&&"Winners"!==s){P(!0);return}T(null),F(s),E(e)},[I,P]),X=(0,i.useCallback)(()=>{T(null),E(null)},[]),q=(0,i.useCallback)(async()=>{S&&!b&&U()},[S,b,U]),Q=(0,i.useCallback)(async()=>{S&&!b&&U()},[S,b,U]);return(0,c.t2)($,o.sR,[L,$]),(0,l.jsx)(u.Provider,{value:{rafflesList:a,openEnrollModal:V,closeEnrollModal:X,claimError:g,handleClaimPrize:q,claimOrEnrollLoading:b,claimOrEnrollSignatureLoading:k,method:W,setMethod:F,selectedRaffleForEnroll:S,setIsLineaWinnersOpen:v,setLineaEnrolledUsers:y,setSelectedRaffleForEnroll:E,setIsLineaCheckEnrolledModalOpen:_,handleEnroll:Q,claimOrEnrollWalletResponse:D,isLineaWinnersOpen:j,lineaEnrolledUsers:N,isLineaCheckEnrolledModalOpen:z},children:s})}},42721:function(e,s){s.Z={src:"/_next/static/media/check-circle.58045af8.svg",height:14,width:14,blurWidth:0,blurHeight:0}},8471:function(e,s,t){t.d(s,{D:function(){return l}});let l="0x0000000000000000000000000000000000000000"}}]);