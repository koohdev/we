"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6731],{73551:function(e,t,s){s.r(t),s.d(t,{BrightConnectionModalBody:function(){return w},default:function(){return y}});var i=s(3827),a=s(64090),n=s(49286),r=s(73415),l=s(9923),o=s(870),c=s(85126),d=s(33383),h=s(37826),m=s(46347),g=s(58905),x=s(21366),u=s(93195),f=()=>{let[e,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1),[n,r]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{i(!0);let e=m.Dv(g.O(32)),s=new x.w5(e),a=s.publicKey,n=s.address;t({privateKey:e,publicKey:a,address:n}),i(!1)}catch(e){r(e),i(!1)}})()},[]);let l=(0,a.useCallback)(async()=>{if(!e||!e.address||!e.privateKey)throw Error("Private key not found");let t=new u.r6("https://mainnet.infura.io/v3/709c5809e1864f82ab6175f39d1aa0ba"),s=new x.w5(e.privateKey,t);return await s.signMessage(e.address)},[e]);return{keys:e,isLoading:s,error:n,signPrivateKey:l}},b=s(1811),p=s(9151),j=s(40376),v=s(56219);let w=()=>{let{userProfile:e,refreshUserProfile:t,updateProfile:s,userToken:l}=(0,h.useUserProfileContext)(),[m]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),{keys:u,signPrivateKey:b}=f(),[p,w]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),[k,C]=(0,a.useState)(null),{addConnection:S}=(0,v.P)();(0,a.useEffect)(()=>{u&&b().then(e=>N(e)).catch(e=>console.log(e))},[u,b]),(0,a.useEffect)(()=>{u&&u.address&&(0,d.cJ)(u.address)},[u,null==u?void 0:u.address]);let D=async()=>{(null==u?void 0:u.address)&&window.open("brightid://link-verification/http:%2f%2fnode.brightid.org/unitap/".concat(null==u?void 0:u.address.toLowerCase(),"/"),"_blank")},I=(0,a.useCallback)(async()=>{if(!p&&(null==u?void 0:u.address)&&y&&l){x(""),w(!0);try{let t=await(0,d.ry)(u.address,y,l);s({...e,isMeetVerified:!0}),S("userProfile",t)}catch(e){if(e instanceof j.d7){var t,i;x(null!==(i=null===(t=e.response)||void 0===t?void 0:t.data.message)&&void 0!==i?i:e.message)}else x(e.message)}finally{w(!1)}}},[p,null==u?void 0:u.address,y,l,s,e,S]);return(null==e?void 0:e.isMeetVerified)?(0,i.jsx)(o.default,{success:!0}):(0,i.jsxs)("div",{className:"bright-connection-modal w-full flex flex-col items-center justify-center pt-4","data-testid":"brightid-modal",children:[(0,i.jsx)("p",{className:"scan-qr-text text-sm text-white mb-3",children:"Scan QR Code"}),(null==u?void 0:u.address)&&(0,i.jsx)("span",{className:"qr-code z-10 mb-4 rounded-md overflow-hidden",children:(0,i.jsx)(r.s,{value:"brightid://link-verification/http:%2f%2fnode.brightid.org/unitap/".concat(null==u?void 0:u.address.toLowerCase(),"/"),"data-testid":"brightid-qr",ecLevel:"L",qrStyle:"dots",quietZone:1,size:200,eyeRadius:5})}),(0,i.jsx)("p",{className:"text-xs text-white mb-4",children:"or"}),(0,i.jsx)("div",{onClick:()=>D(),"data-testid":"brightid-copy-link",className:"flex text-space-green mb-5 z-10",children:(0,i.jsx)("p",{className:"text-space-green font-medium cursor-pointer hover:underline",children:"Visit Link"})}),g&&(0,i.jsx)("span",{className:"notice flex mb-3",children:(0,i.jsxs)("p",{className:"text-xs text-error font-light text-center",children:[" ",g," "]})}),(0,i.jsxs)("span",{className:"flex mb-3",children:[(0,i.jsx)(c.Z,{className:"mr-2 mb-4",iconSrc:"/assets/images/modal/gray-danger.svg"}),(0,i.jsxs)("p",{className:"text-xs text-center text-gray90 font-light",children:["Submit Verification after verifing with brighID app.",(0,i.jsx)("br",{}),"This might take up to 5 minutes."]})]}),t&&(0,i.jsx)(n.PL,{"data-testid":"bright-id-connection-refresh-button".concat(m?"-try-again":""),onClick:I,className:"!w-full mb-4",children:k?(0,i.jsx)("p",{className:"font-semibold",children:"Scan or Use Link and Try Again"}):(0,i.jsx)("p",{className:"font-semibold",children:p?"Loading...":"Verify Linking"})}),(0,i.jsxs)("span",{className:"dont-have-bright-id md:flex flex-col md:flex-row items-center md:justify-between w-full",children:[(0,i.jsx)("p",{className:"text-xs text-gray100 text-center mb-2 md:mb-0",children:"Donâ€™t have a verified BrightID?"}),(0,i.jsx)("p",{className:"text-xs font-semibold cursor-pointer underline text-white text-center",onClick:()=>{window.open("https://brightid.gitbook.io/brightid/getting-verified","_blank")},children:"Get Verified on BrightID"})]})]})};var y=()=>{let{brightIdConnectionModalStatus:e,closeBrightIdConnectionModal:t}=(0,b.useGlobalContext)();return(0,i.jsx)(p.Z,{className:"bright-modal",title:"Connect Your BrightID",size:"small",isOpen:e!==l.g3.CLOSED,closeModalHandler:t,errorSource:l.qO.BRIGHTID_CONNECTION_ERROR,children:(0,i.jsx)(w,{})})}},870:function(e,t,s){s.r(t);var i=s(3827),a=s(85126),n=s(66726),r=s(49286);t.default=e=>{let{success:t}=e;return(0,i.jsx)("div",{children:t?(0,i.jsxs)("div",{className:"bright-connection-modal flex flex-col items-center justify-center pt-2",children:[" ",(0,i.jsx)(a.Z,{iconSrc:"/assets/images/modal/bright-success-icon.svg",mb:2,ml:-1.5}),(0,i.jsx)(n.x,{color:"space_green",mb:1,"data-testid":"brightid-connect-success",children:"BrightID Connected"}),(0,i.jsx)(n.x,{color:"second_gray_light",fontSize:"14",$textAlign:"center",lineHeight:"1.5rem",mb:0,children:"Your BrightID connected Successfully"})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bright-connection-modal flex flex-col items-center justify-center pt-2","data-testid":"brightid-modal",children:[(0,i.jsx)(a.Z,{"data-testid":"brightid-logo",className:"bright-logo z-10 mb-5 !w-4/12",iconSrc:"/assets/images/modal/bright-id-logo-checked.svg"}),(0,i.jsx)("p",{className:"mb-2 text-sm font-bold text-error",children:"You are not verified on BrightID"}),(0,i.jsx)("p",{className:"mb-12 px-4 text-center text-xs font-medium leading-6 text-gray100",children:"BrightID is a social identity network that allows users to prove that they are only using one account."}),(0,i.jsxs)("span",{className:"relative w-full",children:[(0,i.jsxs)(r.LK,{className:"!w-full",onClick:()=>window.open("https://meet.brightid.org/","_blank"),children:["Verify on BrightID"," ",(0,i.jsx)(a.Z,{className:"arrow-icon ml-1.5 mt-0.5 w-2 cursor-pointer",iconSrc:"/assets/images/arrow-icon.svg"})]}),(0,i.jsx)(a.Z,{iconSrc:"/assets/images/modal/bright-id-check.svg",className:"absolute right-4 top-1/2 h-6 w-6 -translate-y-1/2"})]}),(0,i.jsx)("p",{className:"mt-4 cursor-pointer text-xs text-white hover:underline",onClick:()=>location.reload(),children:"If you verified your BrightID click here."})]})})})}},32537:function(e,t,s){s.r(t);var i=s(3827),a=s(66726),n=s(49286),r=s(9923),l=s(870),o=s(85126),c=s(37826),d=s(1811),h=s(9151);let m=()=>{let{userProfile:e,loading:t}=(0,c.useUserProfileContext)(),{closeBrightIdModal:s,openHaveBrightIdAccountModal:r,openBrightIdConnectionModal:h}=(0,d.useGlobalContext)();return(null==e?void 0:e.isMeetVerified)?(0,i.jsx)(l.default,{success:!0}):(0,i.jsxs)("div",{className:"bright-connection-modal flex flex-col items-center justify-center pt-2","data-testid":"brightid-modal",children:[(0,i.jsx)(o.Z,{"data-testid":"brightid-logo",className:"bright-logo !w-4/12 z-10 mb-5",iconSrc:"/assets/images/modal/bright-id-logo.svg"}),(0,i.jsx)("p",{className:"text-sm font-bold text-white mb-2",children:"Login with BrightID"}),(0,i.jsx)("p",{className:"text-xs font-medium text-gray100 mb-5 text-center px-4 leading-6",children:"BrightID is a social identity network that allows users to prove that they are only using one account."}),t&&(0,i.jsx)(a.x,{"data-testid":"loading",children:"Loading..."}),(0,i.jsx)(n.if,{"data-testid":"setup-bright-id-qr-code",className:"mb-4 !w-full bg-gray30",onClick:()=>{s(),h()},children:"I have a BrightID"}),(0,i.jsx)(n.PL,{"data-testid":"bright-id-connection-refresh-button".concat(""),onClick:()=>{s(),r()},className:"!w-full mb-4",children:(0,i.jsx)("p",{className:"font-semibold",children:"Create my BrightID"})}),(0,i.jsx)("p",{className:"text-xs font-light text-gray100",children:"you can create a BrightID account and get verified in 2 simple steps"})]})};t.default=()=>{let{brightidModalStatus:e,closeBrightIdModal:t}=(0,d.useGlobalContext)();return(0,i.jsx)(h.Z,{title:"",size:"small",isOpen:e!==r.jm.CLOSED,closeModalHandler:t,children:(0,i.jsx)(m,{})})}},17256:function(e,t,s){s.r(t);var i=s(3827),a=s(9923),n=s(85126),r=s(1811),l=s(9151);let o=()=>(0,i.jsxs)("div",{className:"bright-connection-modal flex flex-col items-center justify-center pt-5","data-testid":"brightid-modal",children:[(0,i.jsx)(n.Z,{"data-testid":"brightid-logo",className:"bright-id-logo z-10 mb-5",iconSrc:"/assets/images/modal/bright-id-flat-logo.svg"}),(0,i.jsx)("p",{className:"text-sm text-gray100 mb-6 mr-auto",children:"Create a BrightID account easily by following this steps:"}),(0,i.jsx)("p",{className:"text-sm text-white mb-4 mr-auto",children:"1- Download BrightID App"}),(0,i.jsxs)("div",{className:"stores flex w-full justify-evenly mb-7",children:[(0,i.jsx)(n.Z,{onClick:()=>window.open("https://play.google.com/store/apps/details?id=org.brightid&hl=en&gl=US&pli=1","_blank"),className:"cursor-pointer",iconSrc:"/assets/images/modal/google-play.svg",height:"48px",width:"auto"}),(0,i.jsx)(n.Z,{onClick:()=>window.open("https://apps.apple.com/us/app/brightid/id1428946820","_blank"),className:"cursor-pointer",iconSrc:"/assets/images/modal/app-store.svg",height:"48px",width:"auto"})]}),(0,i.jsxs)("p",{className:"text-sm text-white mr-auto mb-32",children:["2- Join a"," ",(0,i.jsx)("span",{onClick:()=>window.open("https://meet.brightid.org/#/","_blank"),className:"text-space-green underline cursor-pointer",children:"Verification Meet"})," ","to get verified by BrightID"]}),(0,i.jsx)("p",{className:"text-xs text-gray100",children:"then come back and connect your BrightID to enjoy Unitap"})]});t.default=()=>{let{closeHaveBrightIdAccountModal:e,haveBrightIdAccountModalStatus:t}=(0,r.useGlobalContext)();return(0,i.jsx)(l.Z,{title:"Create BrightID Account",size:"small",isOpen:t!==a.v_.CLOSED,closeModalHandler:()=>e(),children:(0,i.jsx)(o,{})})}},56219:function(e,t,s){s.d(t,{P:function(){return n},X:function(){return r}});var i=s(30522),a=s(64090);let n=()=>(0,a.useContext)(r),r=(0,a.createContext)({connections:{},addConnection:i.tB})}}]);