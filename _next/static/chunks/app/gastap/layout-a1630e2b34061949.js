(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2372,1318],{11216:function(e,t,a){Promise.resolve().then(a.bind(a,19571))},19571:function(e,t,a){"use strict";a.r(t),a.d(t,{GasTapContext:function(){return C},GasTapProvider:function(){return E},searchChainList:function(){return N},searchChainListSimple:function(){return p},useGasTapContext:function(){return h}});var n=a(3827),l=a(9923),s=a(30522),i=a(64090),c=a(37826),u=a(33383),o=a(50156),r=a(98055),d=a(1811);let C=(0,i.createContext)({chainList:[],chainListSearchResult:[],chainListSearchSimpleResult:[],changeSearchPhrase:null,claim:s.C3,claimNonEVM:s.C3,activeClaimReceipt:null,activeClaimHistory:[],closeClaimModal:s.C3,openClaimModal:s.C3,activeChain:null,claimBoxStatus:{status:l.L.CLOSED,lastFailPk:null},selectedNetwork:l.Zc.MAINNET,selectedChainType:l.Jb.EVM,setSelectedNetwork:s.C3,setSelectedChainType:s.C3,claimLoading:!1,searchPhrase:"",isHighGasFeeModalOpen:!1,isNonEvmActive:!0,changeIsHighGasFeeModalOpen:s.C3,oneTimeClaimedGasList:[],fuelChampionObj:{},claimWalletAddress:"",setClaimWalletAddress:s.tB}),h=()=>(0,i.useContext)(C),E=e=>{let{children:t,chains:a,claimReceiptInitial:s,oneTimeClaimedGasListInitial:h,fuelChampionList:E}=e,[f,M]=(0,i.useState)(a),[S,v]=(0,i.useState)(null),[I,L]=(0,i.useState)(!1),[b,O]=(0,i.useState)(""),[T,g]=(0,i.useState)(""),[k,y]=(0,i.useState)(null),[P,w]=(0,i.useState)({status:l.L.CLOSED,lastFailPk:null}),[D,G]=(0,i.useState)(E.reduce((e,t)=>(e[t.faucetPk]=t.username,e),{})),[A,V]=(0,i.useState)(h),[B,x]=(0,i.useState)(!1),{userProfile:J,userToken:_}=(0,c.useUserProfileContext)(),[j,H]=(0,i.useState)(s),[F,R]=(0,i.useState)(!1),Z=(0,i.useCallback)(e=>{R(e)},[]),[W,X]=(0,i.useState)(l.Zc.MAINNET),[Q,U]=(0,i.useState)(l.Jb.ALL),q=(0,i.useMemo)(()=>N(b,f,W,Q),[b,f,W,Q]),{setIsWalletPromptOpen:z}=(0,d.useGlobalContext)(),{isConnected:K,address:Y}=(0,r.Pk)(),$=(0,i.useCallback)(async()=>{try{let e=await(0,u.aO)();M(e)}catch(e){}},[]),ee=(0,i.useCallback)(async()=>{G((await(0,u.jP)()).reduce((e,t)=>(e[t.faucetPk]=t.username,e),{}))},[]),et=(0,i.useCallback)(async()=>{if(_)try{V(await(0,u.IG)(_))}catch(e){console.warn("error fetching users claimed list"),console.error(e)}},[_]),ea=(0,i.useCallback)(async()=>{if(_&&J)try{let e=await(0,u.od)(_);H(e)}catch(e){}},[_,J]),en=(0,i.useCallback)(e=>{if(!K){z(!0);return}let t=f.find(t=>t.pk===e);t&&(t.chainType===l.Jb.EVM?(v(t),L(!1)):(t.chainType===l.Jb.NONEVMXDC||t.chainType===l.Jb.SOLANA||t.chainType===l.Jb.LIGHTNING)&&(v(t),L(!0)))},[f,K,z]),el=(0,i.useCallback)(async(e,t,a)=>{try{let n=(0,r.ZP)(e,t);await(0,u.g3)(a,e.pk,n),await ea()}catch(e){await ea()}finally{setTimeout(()=>{x(!1)},1e3)}},[ea]),es=(0,i.useCallback)(async(e,t)=>{var a;if(!_||B)return;if(x(!0),I&&t)return await el(f.find(t=>t.pk===e),t,_);k&&w({status:l.L.INITIAL,lastFailPk:k.pk});let n=T||(null==J?void 0:null===(a=J.wallets.find(e=>"EVM"==e.walletType))||void 0===a?void 0:a.address)||Y;try{await(0,u.sC)(_,e,n),setTimeout(()=>{x(!1)},1e3),await ea()}catch(e){x(!1),await ea()}},[_,B,I,k,T,null==J?void 0:J.wallets,Y,el,f,ea]),ei=(0,i.useMemo)(()=>p(b,f),[b,f]);return(0,o.QG)(()=>{$(),ea(),et(),ee()},[]),(0,i.useEffect)(()=>{_&&(ea(),et(),ee())},[f.length,ea,$,ee,et,_]),(0,i.useEffect)(()=>{_||(V([]),H([]))},[_]),(0,i.useEffect)(()=>{S?y(m(j,S,"EVM")):I&&y(m(j,S,"NONEVM"))},[S,I,y,j]),(0,n.jsx)(C.Provider,{value:{activeChain:S,activeClaimHistory:j,chainList:f,chainListSearchResult:q,openClaimModal:en,setSelectedNetwork:X,selectedChainType:Q,setSelectedChainType:U,searchPhrase:b,selectedNetwork:W,isHighGasFeeModalOpen:F,changeIsHighGasFeeModalOpen:Z,isNonEvmActive:I,closeClaimModal:()=>v(null),changeSearchPhrase:e=>O(e),chainListSearchSimpleResult:ei,activeClaimReceipt:k,claimBoxStatus:P,claim:es,claimLoading:B,claimNonEVM:(e,t)=>es(e.pk,t),oneTimeClaimedGasList:A,fuelChampionObj:D,claimWalletAddress:T,setClaimWalletAddress:g},children:t})},f=(e,t)=>(e===l.Zc.MAINNET?t=t.filter(e=>!1===e.isTestnet):e===l.Zc.TESTNET&&(t=t.filter(e=>!0===e.isTestnet)),t),M=(e,t)=>(e===l.Jb.EVM?t=t.filter(e=>e.chainType===l.Jb.EVM):e===l.Jb.NONEVM&&(t=t.filter(e=>e.chainType===l.Jb.NONEVMXDC||e.chainType===l.Jb.SOLANA||e.chainType===l.Jb.LIGHTNING)),t),S=(e,t)=>""===e?t:t.filter(t=>t.nativeCurrencyName.toLowerCase().includes(e.toLowerCase())||t.chainName.toLowerCase().includes(e.toLowerCase())),p=(e,t)=>S(e,t),N=(e,t,a,n)=>""!==e?S(e,t):M(n,f(a,t)),m=(e,t,a)=>{if(!t)return null;let n=e.filter(e=>e.chain.pk===t.pk),s=null;return"EVM"===a?s=n.find(e=>e.status===l.Mv.VERIFIED)||n.find(e=>e.status===l.Mv.PENDING)||n.find(e=>e.status===l.Mv.REJECTED):"NONEVM"===a&&(s=n.find(e=>e.status===l.Mv.VERIFIED)||n.find(e=>e.status===l.Mv.PENDING)||n.find(e=>e.status===l.Mv.REJECTED)),s||null};t.default=E},1811:function(e,t,a){"use strict";a.r(t),a.d(t,{GlobalContext:function(){return c},GlobalContextProvider:function(){return o},useGlobalContext:function(){return u}});var n=a(3827),l=a(9923),s=a(30522),i=a(64090);let c=(0,i.createContext)({openBrightIdModal:s.C3,closeBrightIdModal:s.C3,brightidModalStatus:l.jm.CLOSED,openHaveBrightIdAccountModal:s.C3,closeHaveBrightIdAccountModal:s.C3,haveBrightIdAccountModalStatus:l.v_.CLOSED,openBrightIdConnectionModal:s.C3,closeBrightIdConnectionModal:s.C3,brightIdConnectionModalStatus:l.g3.CLOSED,isWalletPromptOpen:!1,setIsWalletPromptOpen:s.C3}),u=()=>(0,i.useContext)(c),o=e=>{let{children:t}=e,[a,s]=(0,i.useState)(l.jm.CLOSED),[u,o]=(0,i.useState)(l.v_.CLOSED),[r,d]=(0,i.useState)(!1),[C,h]=(0,i.useState)(l.g3.CLOSED);return(0,n.jsx)(c.Provider,{value:{openBrightIdModal:()=>{s(l.jm.OPENED)},closeBrightIdModal:()=>{s(l.jm.CLOSED)},brightidModalStatus:a,openHaveBrightIdAccountModal:()=>{o(l.v_.OPENED)},closeHaveBrightIdAccountModal:()=>{o(l.v_.CLOSED)},haveBrightIdAccountModalStatus:u,openBrightIdConnectionModal:()=>{h(l.g3.OPENED)},closeBrightIdConnectionModal:()=>{h(l.g3.CLOSED)},brightIdConnectionModalStatus:C,isWalletPromptOpen:r,setIsWalletPromptOpen:d},children:t})}}},function(e){e.O(0,[9299,3135,277,8819,2852,7826,2971,8069,1744],function(){return e(e.s=11216)}),_N_E=e.O()}]);